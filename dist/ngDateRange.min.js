/*! angular-calendar 2016-02-17 */
!function(){"use strict";angular.module("ngDateRange",["ng","ui.bootstrap"]).directive("dateRange",function(){return{restrict:"AE",require:"ngModel",template:'<uib-datepicker ng-model="dt" init-date="initVal" show-weeks="false" class="" custom-class="getDayClass(date, mode)"></uib-datepicker>',scope:{init:"="},link:function(a,b,c,d){a.init&&"function"==typeof a.init.getTime&&(a.initVal=new Date(a.init.getTime())),a.getDayClass=function(a,b){var c=d.$viewValue;if("day"===b){var e=new Date(a).setHours(0,0,0,0),f=new Date(c.start).setHours(0,0,0,0),g=new Date(c.end).setHours(0,0,0,0);if(e===f)return"full-start";if(e===g)return"full-end";if(f&&g&&e>f&&g>e)return"partially"}return""},a.$watch("dt",function(){if(a.dt){var b=d.$viewValue;!b.start||b.start>a.dt?(b.start=a.dt,d.$setViewValue(b)):(a.dt.setHours(23,59,59,59),b.end&&b.end.getTime()===a.dt.getTime()?(b.end=void 0,b.start=void 0):b.end=a.dt,d.$setViewValue(b)),a.dt=null}})}}})}();